"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/login";
exports.ids = ["pages/api/auth/login"];
exports.modules = {

/***/ "(api-node)/./lib/db/db.js":
/*!**********************!*\
  !*** ./lib/db/db.js ***!
  \**********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst sqlite3 = __webpack_require__(/*! better-sqlite3 */ \"better-sqlite3\");\nconst path = __webpack_require__(/*! path */ \"path\");\nconst fs = __webpack_require__(/*! fs */ \"fs\");\n// Ensure data directory exists\nconst dataDir = path.join(process.cwd(), 'data');\nif (!fs.existsSync(dataDir)) {\n    fs.mkdirSync(dataDir);\n}\n// Connect to SQLite database\nconst dbPath = path.join(process.cwd(), 'data', 'database.sqlite');\nconst db = sqlite3(dbPath);\n// Initialize database tables if they don't exist\nfunction initDb() {\n    // Users table\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS users (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      username TEXT UNIQUE NOT NULL,\n      password TEXT NOT NULL,\n      selectedLanguage TEXT DEFAULT 'Spanish',\n      nativeLanguage TEXT DEFAULT 'English',\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    )\n  `);\n    // Stories table\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS stories (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      user_id INTEGER NOT NULL,\n      content TEXT NOT NULL,\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      FOREIGN KEY (user_id) REFERENCES users (id)\n    )\n  `);\n    // Words table for highlighted words\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS highlighted_words (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      user_id INTEGER NOT NULL,\n      word TEXT NOT NULL,\n      is_recent BOOLEAN DEFAULT 1,\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      FOREIGN KEY (user_id) REFERENCES users (id)\n    )\n  `);\n    console.log('Database initialized');\n}\n// Initialize the database\ninitDb();\nmodule.exports = db;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9kYi9kYi5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsTUFBTUEsVUFBVUMsbUJBQU9BLENBQUMsc0NBQWdCO0FBQ3hDLE1BQU1DLE9BQU9ELG1CQUFPQSxDQUFDLGtCQUFNO0FBQzNCLE1BQU1FLEtBQUtGLG1CQUFPQSxDQUFDLGNBQUk7QUFFdkIsK0JBQStCO0FBQy9CLE1BQU1HLFVBQVVGLEtBQUtHLElBQUksQ0FBQ0MsUUFBUUMsR0FBRyxJQUFJO0FBQ3pDLElBQUksQ0FBQ0osR0FBR0ssVUFBVSxDQUFDSixVQUFVO0lBQzNCRCxHQUFHTSxTQUFTLENBQUNMO0FBQ2Y7QUFFQSw2QkFBNkI7QUFDN0IsTUFBTU0sU0FBU1IsS0FBS0csSUFBSSxDQUFDQyxRQUFRQyxHQUFHLElBQUksUUFBUTtBQUNoRCxNQUFNSSxLQUFLWCxRQUFRVTtBQUVuQixpREFBaUQ7QUFDakQsU0FBU0U7SUFDUCxjQUFjO0lBQ2RELEdBQUdFLElBQUksQ0FBQyxDQUFDOzs7Ozs7Ozs7RUFTVCxDQUFDO0lBRUQsZ0JBQWdCO0lBQ2hCRixHQUFHRSxJQUFJLENBQUMsQ0FBQzs7Ozs7Ozs7RUFRVCxDQUFDO0lBRUQsb0NBQW9DO0lBQ3BDRixHQUFHRSxJQUFJLENBQUMsQ0FBQzs7Ozs7Ozs7O0VBU1QsQ0FBQztJQUVEQyxRQUFRQyxHQUFHLENBQUM7QUFDZDtBQUVBLDBCQUEwQjtBQUMxQkg7QUFFQUksT0FBT0MsT0FBTyxHQUFHTiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxiZW5hdVxcbXktYXBwXFxsaWJcXGRiXFxkYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzcWxpdGUzID0gcmVxdWlyZSgnYmV0dGVyLXNxbGl0ZTMnKTtcclxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcclxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xyXG5cclxuLy8gRW5zdXJlIGRhdGEgZGlyZWN0b3J5IGV4aXN0c1xyXG5jb25zdCBkYXRhRGlyID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdkYXRhJyk7XHJcbmlmICghZnMuZXhpc3RzU3luYyhkYXRhRGlyKSkge1xyXG4gIGZzLm1rZGlyU3luYyhkYXRhRGlyKTtcclxufVxyXG5cclxuLy8gQ29ubmVjdCB0byBTUUxpdGUgZGF0YWJhc2VcclxuY29uc3QgZGJQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdkYXRhJywgJ2RhdGFiYXNlLnNxbGl0ZScpO1xyXG5jb25zdCBkYiA9IHNxbGl0ZTMoZGJQYXRoKTtcclxuXHJcbi8vIEluaXRpYWxpemUgZGF0YWJhc2UgdGFibGVzIGlmIHRoZXkgZG9uJ3QgZXhpc3RcclxuZnVuY3Rpb24gaW5pdERiKCkge1xyXG4gIC8vIFVzZXJzIHRhYmxlXHJcbiAgZGIuZXhlYyhgXHJcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyB1c2VycyAoXHJcbiAgICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVkgQVVUT0lOQ1JFTUVOVCxcclxuICAgICAgdXNlcm5hbWUgVEVYVCBVTklRVUUgTk9UIE5VTEwsXHJcbiAgICAgIHBhc3N3b3JkIFRFWFQgTk9UIE5VTEwsXHJcbiAgICAgIHNlbGVjdGVkTGFuZ3VhZ2UgVEVYVCBERUZBVUxUICdTcGFuaXNoJyxcclxuICAgICAgbmF0aXZlTGFuZ3VhZ2UgVEVYVCBERUZBVUxUICdFbmdsaXNoJyxcclxuICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUFxyXG4gICAgKVxyXG4gIGApO1xyXG5cclxuICAvLyBTdG9yaWVzIHRhYmxlXHJcbiAgZGIuZXhlYyhgXHJcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBzdG9yaWVzIChcclxuICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxyXG4gICAgICB1c2VyX2lkIElOVEVHRVIgTk9UIE5VTEwsXHJcbiAgICAgIGNvbnRlbnQgVEVYVCBOT1QgTlVMTCxcclxuICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcclxuICAgICAgRk9SRUlHTiBLRVkgKHVzZXJfaWQpIFJFRkVSRU5DRVMgdXNlcnMgKGlkKVxyXG4gICAgKVxyXG4gIGApO1xyXG5cclxuICAvLyBXb3JkcyB0YWJsZSBmb3IgaGlnaGxpZ2h0ZWQgd29yZHNcclxuICBkYi5leGVjKGBcclxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGhpZ2hsaWdodGVkX3dvcmRzIChcclxuICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxyXG4gICAgICB1c2VyX2lkIElOVEVHRVIgTk9UIE5VTEwsXHJcbiAgICAgIHdvcmQgVEVYVCBOT1QgTlVMTCxcclxuICAgICAgaXNfcmVjZW50IEJPT0xFQU4gREVGQVVMVCAxLFxyXG4gICAgICBjcmVhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxyXG4gICAgICBGT1JFSUdOIEtFWSAodXNlcl9pZCkgUkVGRVJFTkNFUyB1c2VycyAoaWQpXHJcbiAgICApXHJcbiAgYCk7XHJcblxyXG4gIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBpbml0aWFsaXplZCcpO1xyXG59XHJcblxyXG4vLyBJbml0aWFsaXplIHRoZSBkYXRhYmFzZVxyXG5pbml0RGIoKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZGI7Il0sIm5hbWVzIjpbInNxbGl0ZTMiLCJyZXF1aXJlIiwicGF0aCIsImZzIiwiZGF0YURpciIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsImRiUGF0aCIsImRiIiwiaW5pdERiIiwiZXhlYyIsImNvbnNvbGUiLCJsb2ciLCJtb2R1bGUiLCJleHBvcnRzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./lib/db/db.js\n");

/***/ }),

/***/ "(api-node)/./lib/db/users.js":
/*!*************************!*\
  !*** ./lib/db/users.js ***!
  \*************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst db = __webpack_require__(/*! ./db */ \"(api-node)/./lib/db/db.js\");\nconst bcrypt = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\nconst usersDb = {\n    // Create a new user\n    create: (username, password)=>{\n        // No password complexity validation\n        const hashedPassword = bcrypt.hashSync(password, 10);\n        try {\n            const stmt = db.prepare('INSERT INTO users (username, password) VALUES (?, ?)');\n            const result = stmt.run(username, hashedPassword);\n            return {\n                id: result.lastInsertRowid,\n                username\n            };\n        } catch (error) {\n            if (error.code === 'SQLITE_CONSTRAINT') {\n                throw new Error('Username already exists');\n            }\n            throw error;\n        }\n    },\n    // Get user by username\n    getByUsername: (username)=>{\n        const stmt = db.prepare('SELECT * FROM users WHERE username = ?');\n        return stmt.get(username);\n    },\n    // Get user by ID\n    getById: (id)=>{\n        const stmt = db.prepare('SELECT * FROM users WHERE id = ?');\n        return stmt.get(id);\n    },\n    // Verify user credentials\n    verify: (username, password)=>{\n        const user = usersDb.getByUsername(username);\n        if (!user || !bcrypt.compareSync(password, user.password)) {\n            return null;\n        }\n        return {\n            id: user.id,\n            username: user.username\n        };\n    },\n    // Update user language preferences\n    updateLanguagePreferences: (userId, selectedLanguage, nativeLanguage)=>{\n        const stmt = db.prepare('UPDATE users SET selectedLanguage = ?, nativeLanguage = ? WHERE id = ?');\n        stmt.run(selectedLanguage, nativeLanguage, userId);\n        return usersDb.getById(userId);\n    },\n    // Get user language preferences\n    getLanguagePreferences: (userId)=>{\n        const user = usersDb.getById(userId);\n        return {\n            selectedLanguage: user.selectedLanguage || 'Spanish',\n            nativeLanguage: user.nativeLanguage || 'English'\n        };\n    }\n};\nmodule.exports = usersDb;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9kYi91c2Vycy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsTUFBTUEsS0FBS0MsbUJBQU9BLENBQUMsdUNBQU07QUFDekIsTUFBTUMsU0FBU0QsbUJBQU9BLENBQUMsMEJBQVU7QUFFakMsTUFBTUUsVUFBVTtJQUNkLG9CQUFvQjtJQUNwQkMsUUFBUSxDQUFDQyxVQUFVQztRQUNqQixvQ0FBb0M7UUFDcEMsTUFBTUMsaUJBQWlCTCxPQUFPTSxRQUFRLENBQUNGLFVBQVU7UUFDakQsSUFBSTtZQUNGLE1BQU1HLE9BQU9ULEdBQUdVLE9BQU8sQ0FBQztZQUN4QixNQUFNQyxTQUFTRixLQUFLRyxHQUFHLENBQUNQLFVBQVVFO1lBQ2xDLE9BQU87Z0JBQUVNLElBQUlGLE9BQU9HLGVBQWU7Z0JBQUVUO1lBQVM7UUFDaEQsRUFBRSxPQUFPVSxPQUFPO1lBQ2QsSUFBSUEsTUFBTUMsSUFBSSxLQUFLLHFCQUFxQjtnQkFDdEMsTUFBTSxJQUFJQyxNQUFNO1lBQ2xCO1lBQ0EsTUFBTUY7UUFDUjtJQUNGO0lBRUEsdUJBQXVCO0lBQ3ZCRyxlQUFlLENBQUNiO1FBQ2QsTUFBTUksT0FBT1QsR0FBR1UsT0FBTyxDQUFDO1FBQ3hCLE9BQU9ELEtBQUtVLEdBQUcsQ0FBQ2Q7SUFDbEI7SUFFQSxpQkFBaUI7SUFDakJlLFNBQVMsQ0FBQ1A7UUFDUixNQUFNSixPQUFPVCxHQUFHVSxPQUFPLENBQUM7UUFDeEIsT0FBT0QsS0FBS1UsR0FBRyxDQUFDTjtJQUNsQjtJQUVBLDBCQUEwQjtJQUMxQlEsUUFBUSxDQUFDaEIsVUFBVUM7UUFDakIsTUFBTWdCLE9BQU9uQixRQUFRZSxhQUFhLENBQUNiO1FBQ25DLElBQUksQ0FBQ2lCLFFBQVEsQ0FBQ3BCLE9BQU9xQixXQUFXLENBQUNqQixVQUFVZ0IsS0FBS2hCLFFBQVEsR0FBRztZQUN6RCxPQUFPO1FBQ1Q7UUFDQSxPQUFPO1lBQUVPLElBQUlTLEtBQUtULEVBQUU7WUFBRVIsVUFBVWlCLEtBQUtqQixRQUFRO1FBQUM7SUFDaEQ7SUFFQSxtQ0FBbUM7SUFDbkNtQiwyQkFBMkIsQ0FBQ0MsUUFBUUMsa0JBQWtCQztRQUNwRCxNQUFNbEIsT0FBT1QsR0FBR1UsT0FBTyxDQUFDO1FBQ3hCRCxLQUFLRyxHQUFHLENBQUNjLGtCQUFrQkMsZ0JBQWdCRjtRQUMzQyxPQUFPdEIsUUFBUWlCLE9BQU8sQ0FBQ0s7SUFDekI7SUFFQSxnQ0FBZ0M7SUFDaENHLHdCQUF3QixDQUFDSDtRQUN2QixNQUFNSCxPQUFPbkIsUUFBUWlCLE9BQU8sQ0FBQ0s7UUFDN0IsT0FBTztZQUNMQyxrQkFBa0JKLEtBQUtJLGdCQUFnQixJQUFJO1lBQzNDQyxnQkFBZ0JMLEtBQUtLLGNBQWMsSUFBSTtRQUN6QztJQUNGO0FBQ0Y7QUFFQUUsT0FBT0MsT0FBTyxHQUFHM0IiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcYmVuYXVcXG15LWFwcFxcbGliXFxkYlxcdXNlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKCcuL2RiJyk7XHJcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdGpzJyk7XHJcblxyXG5jb25zdCB1c2Vyc0RiID0ge1xyXG4gIC8vIENyZWF0ZSBhIG5ldyB1c2VyXHJcbiAgY3JlYXRlOiAodXNlcm5hbWUsIHBhc3N3b3JkKSA9PiB7XHJcbiAgICAvLyBObyBwYXNzd29yZCBjb21wbGV4aXR5IHZhbGlkYXRpb25cclxuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYmNyeXB0Lmhhc2hTeW5jKHBhc3N3b3JkLCAxMCk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzdG10ID0gZGIucHJlcGFyZSgnSU5TRVJUIElOVE8gdXNlcnMgKHVzZXJuYW1lLCBwYXNzd29yZCkgVkFMVUVTICg/LCA/KScpO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBzdG10LnJ1bih1c2VybmFtZSwgaGFzaGVkUGFzc3dvcmQpO1xyXG4gICAgICByZXR1cm4geyBpZDogcmVzdWx0Lmxhc3RJbnNlcnRSb3dpZCwgdXNlcm5hbWUgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGlmIChlcnJvci5jb2RlID09PSAnU1FMSVRFX0NPTlNUUkFJTlQnKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VybmFtZSBhbHJlYWR5IGV4aXN0cycpO1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIEdldCB1c2VyIGJ5IHVzZXJuYW1lXHJcbiAgZ2V0QnlVc2VybmFtZTogKHVzZXJuYW1lKSA9PiB7XHJcbiAgICBjb25zdCBzdG10ID0gZGIucHJlcGFyZSgnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSB1c2VybmFtZSA9ID8nKTtcclxuICAgIHJldHVybiBzdG10LmdldCh1c2VybmFtZSk7XHJcbiAgfSxcclxuXHJcbiAgLy8gR2V0IHVzZXIgYnkgSURcclxuICBnZXRCeUlkOiAoaWQpID0+IHtcclxuICAgIGNvbnN0IHN0bXQgPSBkYi5wcmVwYXJlKCdTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIGlkID0gPycpO1xyXG4gICAgcmV0dXJuIHN0bXQuZ2V0KGlkKTtcclxuICB9LFxyXG5cclxuICAvLyBWZXJpZnkgdXNlciBjcmVkZW50aWFsc1xyXG4gIHZlcmlmeTogKHVzZXJuYW1lLCBwYXNzd29yZCkgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IHVzZXJzRGIuZ2V0QnlVc2VybmFtZSh1c2VybmFtZSk7XHJcbiAgICBpZiAoIXVzZXIgfHwgIWJjcnlwdC5jb21wYXJlU3luYyhwYXNzd29yZCwgdXNlci5wYXNzd29yZCkpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4geyBpZDogdXNlci5pZCwgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUgfTtcclxuICB9LFxyXG5cclxuICAvLyBVcGRhdGUgdXNlciBsYW5ndWFnZSBwcmVmZXJlbmNlc1xyXG4gIHVwZGF0ZUxhbmd1YWdlUHJlZmVyZW5jZXM6ICh1c2VySWQsIHNlbGVjdGVkTGFuZ3VhZ2UsIG5hdGl2ZUxhbmd1YWdlKSA9PiB7XHJcbiAgICBjb25zdCBzdG10ID0gZGIucHJlcGFyZSgnVVBEQVRFIHVzZXJzIFNFVCBzZWxlY3RlZExhbmd1YWdlID0gPywgbmF0aXZlTGFuZ3VhZ2UgPSA/IFdIRVJFIGlkID0gPycpO1xyXG4gICAgc3RtdC5ydW4oc2VsZWN0ZWRMYW5ndWFnZSwgbmF0aXZlTGFuZ3VhZ2UsIHVzZXJJZCk7XHJcbiAgICByZXR1cm4gdXNlcnNEYi5nZXRCeUlkKHVzZXJJZCk7XHJcbiAgfSxcclxuXHJcbiAgLy8gR2V0IHVzZXIgbGFuZ3VhZ2UgcHJlZmVyZW5jZXNcclxuICBnZXRMYW5ndWFnZVByZWZlcmVuY2VzOiAodXNlcklkKSA9PiB7XHJcbiAgICBjb25zdCB1c2VyID0gdXNlcnNEYi5nZXRCeUlkKHVzZXJJZCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzZWxlY3RlZExhbmd1YWdlOiB1c2VyLnNlbGVjdGVkTGFuZ3VhZ2UgfHwgJ1NwYW5pc2gnLFxyXG4gICAgICBuYXRpdmVMYW5ndWFnZTogdXNlci5uYXRpdmVMYW5ndWFnZSB8fCAnRW5nbGlzaCdcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB1c2Vyc0RiOyJdLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJiY3J5cHQiLCJ1c2Vyc0RiIiwiY3JlYXRlIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaFN5bmMiLCJzdG10IiwicHJlcGFyZSIsInJlc3VsdCIsInJ1biIsImlkIiwibGFzdEluc2VydFJvd2lkIiwiZXJyb3IiLCJjb2RlIiwiRXJyb3IiLCJnZXRCeVVzZXJuYW1lIiwiZ2V0IiwiZ2V0QnlJZCIsInZlcmlmeSIsInVzZXIiLCJjb21wYXJlU3luYyIsInVwZGF0ZUxhbmd1YWdlUHJlZmVyZW5jZXMiLCJ1c2VySWQiLCJzZWxlY3RlZExhbmd1YWdlIiwibmF0aXZlTGFuZ3VhZ2UiLCJnZXRMYW5ndWFnZVByZWZlcmVuY2VzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/db/users.js\n");

/***/ }),

/***/ "(api-node)/./lib/utils/auth.js":
/*!***************************!*\
  !*** ./lib/utils/auth.js ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   sessionOptions: () => (/* binding */ sessionOptions),\n/* harmony export */   withSession: () => (/* binding */ withSession)\n/* harmony export */ });\n/* harmony import */ var iron_session__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! iron-session */ \"iron-session\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([iron_session__WEBPACK_IMPORTED_MODULE_0__]);\niron_session__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst sessionOptions = {\n    password: 'complex_password_at_least_32_characters_long',\n    cookieName: 'spanish-story-session',\n    cookieOptions: {\n        secure: \"development\" === 'production',\n        maxAge: 60 * 60 * 24 * 7\n    }\n};\n// Middleware for API routes\nasync function withSession(req, res, next) {\n    req.session = await (0,iron_session__WEBPACK_IMPORTED_MODULE_0__.getIronSession)(req, res, sessionOptions);\n    return next();\n}\n// For SSR pages\nasync function getServerSideProps({ req, res }) {\n    const session = await (0,iron_session__WEBPACK_IMPORTED_MODULE_0__.getIronSession)(req, res, sessionOptions);\n    return {\n        props: {\n            user: session.user || null\n        }\n    };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi91dGlscy9hdXRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEM7QUFFdkMsTUFBTUMsaUJBQWlCO0lBQzVCQyxVQUFVO0lBQ1ZDLFlBQVk7SUFDWkMsZUFBZTtRQUNiQyxRQUFRQyxrQkFBeUI7UUFDakNDLFFBQVEsS0FBSyxLQUFLLEtBQUs7SUFDekI7QUFDRixFQUFFO0FBRUYsNEJBQTRCO0FBQ3JCLGVBQWVDLFlBQVlDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJO0lBQzlDRixJQUFJRyxPQUFPLEdBQUcsTUFBTVosNERBQWNBLENBQUNTLEtBQUtDLEtBQUtUO0lBQzdDLE9BQU9VO0FBQ1Q7QUFFQSxnQkFBZ0I7QUFDVCxlQUFlRSxtQkFBbUIsRUFBRUosR0FBRyxFQUFFQyxHQUFHLEVBQUU7SUFDbkQsTUFBTUUsVUFBVSxNQUFNWiw0REFBY0EsQ0FBQ1MsS0FBS0MsS0FBS1Q7SUFFL0MsT0FBTztRQUNMYSxPQUFPO1lBQ0xDLE1BQU1ILFFBQVFHLElBQUksSUFBSTtRQUN4QjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcYmVuYXVcXG15LWFwcFxcbGliXFx1dGlsc1xcYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRJcm9uU2Vzc2lvbiB9IGZyb20gJ2lyb24tc2Vzc2lvbic7XHJcblxyXG5leHBvcnQgY29uc3Qgc2Vzc2lvbk9wdGlvbnMgPSB7XHJcbiAgcGFzc3dvcmQ6ICdjb21wbGV4X3Bhc3N3b3JkX2F0X2xlYXN0XzMyX2NoYXJhY3RlcnNfbG9uZycsICAvLyBJbiBwcm9kdWN0aW9uLCB1c2UgYSBzdHJvbmcgcGFzc3dvcmRcclxuICBjb29raWVOYW1lOiAnc3BhbmlzaC1zdG9yeS1zZXNzaW9uJyxcclxuICBjb29raWVPcHRpb25zOiB7XHJcbiAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicsXHJcbiAgICBtYXhBZ2U6IDYwICogNjAgKiAyNCAqIDcsIC8vIDEgd2Vla1xyXG4gIH0sXHJcbn07XHJcblxyXG4vLyBNaWRkbGV3YXJlIGZvciBBUEkgcm91dGVzXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3aXRoU2Vzc2lvbihyZXEsIHJlcywgbmV4dCkge1xyXG4gIHJlcS5zZXNzaW9uID0gYXdhaXQgZ2V0SXJvblNlc3Npb24ocmVxLCByZXMsIHNlc3Npb25PcHRpb25zKTtcclxuICByZXR1cm4gbmV4dCgpO1xyXG59XHJcblxyXG4vLyBGb3IgU1NSIHBhZ2VzXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXJ2ZXJTaWRlUHJvcHMoeyByZXEsIHJlcyB9KSB7XHJcbiAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldElyb25TZXNzaW9uKHJlcSwgcmVzLCBzZXNzaW9uT3B0aW9ucyk7XHJcbiAgXHJcbiAgcmV0dXJuIHtcclxuICAgIHByb3BzOiB7XHJcbiAgICAgIHVzZXI6IHNlc3Npb24udXNlciB8fCBudWxsLFxyXG4gICAgfSxcclxuICB9O1xyXG59Il0sIm5hbWVzIjpbImdldElyb25TZXNzaW9uIiwic2Vzc2lvbk9wdGlvbnMiLCJwYXNzd29yZCIsImNvb2tpZU5hbWUiLCJjb29raWVPcHRpb25zIiwic2VjdXJlIiwicHJvY2VzcyIsIm1heEFnZSIsIndpdGhTZXNzaW9uIiwicmVxIiwicmVzIiwibmV4dCIsInNlc3Npb24iLCJnZXRTZXJ2ZXJTaWRlUHJvcHMiLCJwcm9wcyIsInVzZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./lib/utils/auth.js\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Flogin&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5Clogin.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Flogin&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5Clogin.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_auth_login_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\auth\\login.js */ \"(api-node)/./pages/api/auth/login.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_auth_login_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_auth_login_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_login_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_login_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auth/login\",\n        pathname: \"/api/auth/login\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_auth_login_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGYXV0aCUyRmxvZ2luJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNhdXRoJTVDbG9naW4uanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDeUQ7QUFDekQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHFEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxxREFBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxhdXRoXFxcXGxvZ2luLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL2xvZ2luXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXV0aC9sb2dpblwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Flogin&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5Clogin.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/auth/login.js":
/*!*********************************!*\
  !*** ./pages/api/auth/login.js ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ loginRoute)\n/* harmony export */ });\n/* harmony import */ var iron_session__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! iron-session */ \"iron-session\");\n/* harmony import */ var _lib_utils_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/utils/auth */ \"(api-node)/./lib/utils/auth.js\");\n/* harmony import */ var _lib_db_users__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/db/users */ \"(api-node)/./lib/db/users.js\");\n/* harmony import */ var _lib_db_users__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lib_db_users__WEBPACK_IMPORTED_MODULE_2__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([iron_session__WEBPACK_IMPORTED_MODULE_0__, _lib_utils_auth__WEBPACK_IMPORTED_MODULE_1__]);\n([iron_session__WEBPACK_IMPORTED_MODULE_0__, _lib_utils_auth__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nasync function loginRoute(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).json({\n            error: 'Method not allowed'\n        });\n    }\n    try {\n        // Get session\n        const session = await (0,iron_session__WEBPACK_IMPORTED_MODULE_0__.getIronSession)(req, res, _lib_utils_auth__WEBPACK_IMPORTED_MODULE_1__.sessionOptions);\n        const { username, password } = req.body;\n        if (!username || !password) {\n            return res.status(400).json({\n                error: 'Username and password are required'\n            });\n        }\n        const user = _lib_db_users__WEBPACK_IMPORTED_MODULE_2___default().verify(username, password);\n        if (!user) {\n            return res.status(401).json({\n                error: 'Invalid credentials'\n            });\n        }\n        // Set the user in the session\n        session.user = {\n            id: user.id,\n            username: user.username\n        };\n        await session.save();\n        return res.status(200).json({\n            user: {\n                id: user.id,\n                username: user.username\n            }\n        });\n    } catch (error) {\n        console.error('Login error:', error);\n        return res.status(500).json({\n            error: 'An error occurred during login'\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9hdXRoL2xvZ2luLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQThDO0FBQ1c7QUFDYjtBQUU3QixlQUFlRyxXQUFXQyxHQUFHLEVBQUVDLEdBQUc7SUFDL0MsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLFFBQVE7UUFDekIsT0FBT0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXFCO0lBQzVEO0lBRUEsSUFBSTtRQUNGLGNBQWM7UUFDZCxNQUFNQyxVQUFVLE1BQU1WLDREQUFjQSxDQUFDSSxLQUFLQyxLQUFLSiwyREFBY0E7UUFFN0QsTUFBTSxFQUFFVSxRQUFRLEVBQUVDLFFBQVEsRUFBRSxHQUFHUixJQUFJUyxJQUFJO1FBRXZDLElBQUksQ0FBQ0YsWUFBWSxDQUFDQyxVQUFVO1lBQzFCLE9BQU9QLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBcUM7UUFDNUU7UUFFQSxNQUFNSyxPQUFPWiwyREFBYyxDQUFDUyxVQUFVQztRQUV0QyxJQUFJLENBQUNFLE1BQU07WUFDVCxPQUFPVCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQXNCO1FBQzdEO1FBRUEsOEJBQThCO1FBQzlCQyxRQUFRSSxJQUFJLEdBQUc7WUFBRUUsSUFBSUYsS0FBS0UsRUFBRTtZQUFFTCxVQUFVRyxLQUFLSCxRQUFRO1FBQUM7UUFDdEQsTUFBTUQsUUFBUU8sSUFBSTtRQUVsQixPQUFPWixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVNLE1BQU07Z0JBQUVFLElBQUlGLEtBQUtFLEVBQUU7Z0JBQUVMLFVBQVVHLEtBQUtILFFBQVE7WUFBQztRQUFFO0lBQy9FLEVBQUUsT0FBT0YsT0FBTztRQUNkUyxRQUFRVCxLQUFLLENBQUMsZ0JBQWdCQTtRQUM5QixPQUFPSixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBaUM7SUFDeEU7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxiZW5hdVxcbXktYXBwXFxwYWdlc1xcYXBpXFxhdXRoXFxsb2dpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRJcm9uU2Vzc2lvbiB9IGZyb20gJ2lyb24tc2Vzc2lvbic7XHJcbmltcG9ydCB7IHNlc3Npb25PcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vbGliL3V0aWxzL2F1dGgnO1xyXG5pbXBvcnQgdXNlcnNEYiBmcm9tICcuLi8uLi8uLi9saWIvZGIvdXNlcnMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gbG9naW5Sb3V0ZShyZXEsIHJlcykge1xyXG4gIGlmIChyZXEubWV0aG9kICE9PSAnUE9TVCcpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBHZXQgc2Vzc2lvblxyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldElyb25TZXNzaW9uKHJlcSwgcmVzLCBzZXNzaW9uT3B0aW9ucyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcclxuICAgIFxyXG4gICAgaWYgKCF1c2VybmFtZSB8fCAhcGFzc3dvcmQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdVc2VybmFtZSBhbmQgcGFzc3dvcmQgYXJlIHJlcXVpcmVkJyB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgdXNlciA9IHVzZXJzRGIudmVyaWZ5KHVzZXJuYW1lLCBwYXNzd29yZCk7XHJcbiAgICBcclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgY3JlZGVudGlhbHMnIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBTZXQgdGhlIHVzZXIgaW4gdGhlIHNlc3Npb25cclxuICAgIHNlc3Npb24udXNlciA9IHsgaWQ6IHVzZXIuaWQsIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lIH07XHJcbiAgICBhd2FpdCBzZXNzaW9uLnNhdmUoKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlcjogeyBpZDogdXNlci5pZCwgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUgfSB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignTG9naW4gZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgbG9naW4nIH0pO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJnZXRJcm9uU2Vzc2lvbiIsInNlc3Npb25PcHRpb25zIiwidXNlcnNEYiIsImxvZ2luUm91dGUiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZXNzaW9uIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImJvZHkiLCJ1c2VyIiwidmVyaWZ5IiwiaWQiLCJzYXZlIiwiY29uc29sZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/auth/login.js\n");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "better-sqlite3":
/*!*********************************!*\
  !*** external "better-sqlite3" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("better-sqlite3");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "iron-session":
/*!*******************************!*\
  !*** external "iron-session" ***!
  \*******************************/
/***/ ((module) => {

module.exports = import("iron-session");;

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Flogin&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5Clogin.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();